<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kaos.his.mapper.EmployeeMapper">

    <select id="GetEmployeeByEmplCode" resultMap="employeeMap">
        SELECT
            T1.EMPL_ID,
            T1.EMPL_NAME,
            T1.SEX_CODE,
            T1.BIRTHDAY,
            T1.IDENNO,
            T1.TEL,
            T1.EMAIL,
            T2.DEPT_ID,
            T2.DEPT_NAME,
            T2.DEPTOWN
        FROM
            DAWN_ORG_EMPL T1
            LEFT JOIN DAWN_ORG_DEPT T2 ON T2.DEPT_ID = T1.DEPT_ID
        WHERE
            T1.EMPL_ID = #{emplCode}
    </select>

    <resultMap id="employeeMap" type="com.kaos.his.entity.Employee">
        <result column="EMPL_ID" jdbcType="VARCHAR" property="code" />
        <result column="EMPL_NAME" jdbcType="VARCHAR" property="name" />
        <result column="SEX_CODE" jdbcType="VARCHAR" property="sex" typeHandler="com.kaos.his.enums.util.MybatisEnumTypeHandler" />
    </resultMap>
</mapper>