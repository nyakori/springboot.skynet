(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-664aaa6b"],{"195d":function(t,e,a){},"7cdd":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"el-card-panel"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入患者就诊卡号"},model:{value:t.cardno,callback:function(e){t.cardno=e},expression:"cardno"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"就诊卡号",prop:"cardNo"}}),a("el-table-column",{attrs:{label:"姓名",width:"90",prop:"name"}}),a("el-table-column",{attrs:{label:"性别",width:"60",prop:"sex"}}),a("el-table-column",{attrs:{label:"年龄",width:"80",prop:"age"}}),a("el-table-column",{attrs:{label:"身份证号",width:"160",prop:"ideno"}}),a("el-table-column",{attrs:{label:"电话号码",prop:"phone"}}),a("el-table-column",{attrs:{label:"电子邮箱",width:"140",prop:"email"}}),a("el-table-column",{attrs:{label:"GCP患者",width:"80",prop:"gcp"}}),a("el-table-column",{attrs:{align:"center",width:"340",label:"操作",prop:"action"}},[[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("绑定陪护人")]),a("el-button",{attrs:{type:"success"},on:{click:t.handleDialog}},[t._v("查看陪护人")])]],2)],1),a("el-dialog",{attrs:{visible:t.peihuVisable,"custom-class":"el-dialog-aside"},on:{"update:visible":function(e){t.peihuVisable=e}}},[t.flag?a("div",t._l(t.list,(function(e){return a("div",{key:e,staticClass:"peihu",staticStyle:{border:"2px solid #cfcfcf","margin-bottom":"20px"}},[a("el-form",{ref:"dataForm",refInFor:!0,staticStyle:{width:"300px","margin-left":"20px","margin-top":"20px"},attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"陪护证号",prop:"peihuno"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:t.dataForm.escortNo,callback:function(e){t.$set(t.dataForm,"escortNo",e)},expression:"dataForm.escortNo"}})],1),a("el-form-item",{attrs:{label:"陪护人卡号",prop:"peihucardno"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:t.dataForm.cardNo,callback:function(e){t.$set(t.dataForm,"cardNo",e)},expression:"dataForm.cardNo"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"peihname"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"peihusex"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:t.dataForm.sex,callback:function(e){t.$set(t.dataForm,"sex",e)},expression:"dataForm.sex"}})],1),a("el-form-item",{attrs:{label:"年龄",prop:"peihuage"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:t.dataForm.age,callback:function(e){t.$set(t.dataForm,"age",e)},expression:"dataForm.age"}})],1)],1),a("el-button",{staticStyle:{display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.logout}},[t._v(" 注销陪护人 ")])],1)})),0):a("h2",{},[t._v("无陪护人信息")])])],1)],1)},n=[],o=a("b775");function i(t){return Object(o["a"])({url:"/api/inpatient/escort/queryHelperInfo",method:"post",baseURL:"http://172.16.100.252:8025",data:{patientCardNo:t}})}function r(t,e){return Object(o["a"])({url:"/api/inpatient/escort/bind",method:"post",baseURL:"http://172.16.100.252:8025",data:{patientIdx:t,helperCardNo:e,emplCode:"vueapi",remark:null}})}function s(t,e){return Object(o["a"])({url:"/api/inpatient/escort/updateState",method:"post",baseURL:"http://172.16.100.252:8025",data:{escortNo:t,state:e,emplCode:"vueapi"}})}var c={data:function(){return{cardno:null,peihuno:null,peihucardno:null,peihname:null,peihusex:null,peihuage:null,tableData:null,list:[1,2],peihuVisable:!1,dataForm:{escortNo:"",name:"",age:"",sex:""},flag:!0}},methods:{search:function(){var t=this;i(this.cardno).then((function(e){var a=e.data;t.tableData=a}))},handleAdd:function(){var t=this;this.$prompt("请输入陪护人卡号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(e){var a=e.value;r(t.cardno,a).then((function(e){t.$messag({type:"success",message:"绑定成功"})}))}))},handleDialog:function(){var t=this;this.peihuVisable=!0,i(this.cardno).then((function(e){var a=e.data;t.dataForm.escortNo=a.escortNo}))},logout:function(){var t=this;this.$confirm("确认注销陪护人, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s(t.cardno,4).then((function(t){})),t.$message({type:"success",message:"注销成功!"})}))}}},p=c,d=(a("ee09"),a("2877")),u=Object(d["a"])(p,l,n,!1,null,"a336cff2",null);e["default"]=u.exports},ee09:function(t,e,a){"use strict";a("195d")}}]);